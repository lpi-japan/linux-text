# 腕試しの課題とまとめ
仮想マシンの作成からOSのインストール、各種コマンドの使い方の解説と進めてきました。

一通り終わったら、仮想マシンを削除（除去）して、再度1から手順を復習してみてください。復習が終わったら、今度は目次だけ見ながら同じ手順を繰り返してみてください。目次を見ただけでどんな内容か分からなかったところがあれば、あらためて教科書の解説や実習を試してみてください。

3回ほど本教科書をこなしたら、腕試しの課題に挑戦です。

## 腕試しの課題
ここまで学んできたことの1つ1つはLinuxを操作するというパズルのピースのようなものですが、全体像としてのLinux操作はまだ見えにくいかも知れません。

次のステップとして『Linuxサーバー構築標準教科書』に挑戦してみて欲しいのですが、その前にこの教科書の範囲内でも可能な腕試しの問題を出してみようと思います。この教科書の内容＋αで解けるので、挑戦してみてください。

### 問題：ユーザーディレクトリ機能の有効化
Apache Webサーバーには、ユーザーディレクトリという機能があります。この機能は、ユーザーのホームディレクトリに「public_html」というディレクトリを作成し、その中にHTMLファイルを設置すると「http://サーバーアドレス/~ユーザー名/HTMLファイル名」として参照できるというものです。

この機能を有効にするには、以下の作業が必要です。

- Apache Webサーバーの設定ファイルである/etc/httpd/conf.dディレクトリのuserdir.confファイルの設定を変更して、Apache Webサーバーを再起動する
- ユーザーを作成し、そのユーザーのホームディレクトリにpublic_htmlディレクトリを作成して、必要なアクセス権を設定する
- ~/public_htmlディレクトリにindex.htmlなどのファイルを置いて、Webブラウザからアクセスしてみる

userdir.confファイルのコメントにも英語ですが設定内容についての記載があるのでヒントとして参照して、ユーザーディレクトリ機能を有効にしてみてください。

### セキュリティの対応
1点だけ、userdir.confファイルにも書かれていない、セキュリティに関わる対応が必要となります。すべての設定が終わったら、ユーザーディレクトリ機能でWebページを公開したいユーザーで実行してください。

```
$ chcon -R -t httpd_sys_content_t ~/public_html/
```

これはLinuxのセキュリティ機能の1つであるSELinuxに関する設定です。作成した~/public_htmlディレクトリに対してSELinuxが参照する値を設定するコマンドです。

SELinuxについては『Linuxシステム管理標準教科書』で解説しているので、参考にしてください。

\pagebreak

### ヒントと解答
どうしてもやり方が分からない、解答が知りたい、という人は以下の記事を参照してみてください。

```
https://linuc.org/study/column/4513/
```

![https://linuc.org/study/column/4513/](image/Ch12/QRuserdir.png){width=25%}


## まとめ
ここまで実践できるようになれば、基本的なサーバー構築の手順をこなすことはできるようになったはずです。次のステップとして、個々の作業の意味を理解する、全体的な作業の流れを理解することができるように、とにかくいろいろなサーバーを構築してみたり、今回使用したAlmaLinux以外のディストリビューションもインストールして試してみてください。

